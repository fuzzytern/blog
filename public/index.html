<!doctype html>
<head>
  <title>Code with flair</title>
  <link rel="stylesheet" src="layout.css" />
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
</head>
<body>
  <cwf-heading id="cwf-heading"></cwf-heading>
  <cwf-main id="cwf-main"></cwf-main>
  <cwf-footer id="cwf-footer"></cwf-footer>

  <script type="text/javascript">
    //- Heading
    Vue.component('cwf-heading', {
      template:  `<header>
                    <hgroup>
                      <h1>Learn to #codewithflair</h1>
                      <h2>with Nicolas Wormser</h2>
                      <h3>I give meaning to your code by challenging you where I fall short.</h3>
                    </hgroup>
                    <nav>
                      <p>Languages:</p>
                      <ul>
                        <li class="selected">ECMAScript</li>
                        <li>Elixir (soon)</li>
                      </ul>
                    </nav>
                  </header>`
    });

    //- Main
    Vue.component('cwf-main', {
      template:  `<section id="app" class="ecmascript">
                    <post-entry v-for="post in postList" v-bind:post="post"></post-entry>
                  </section>`,
      data: function(){
        return {
          postList: [
            { title: '#codingwithflair - what does it even mean?',
              brief: '', 
              content: ' Commitment to make your code as expressive as possible.  Encapsulating meaning and intention within your code.  Using appropriate programming concepts when appropriate. Functionnal programming for transformation.  Having flair is preventing code smell '},
            { title: 'Expressing the « obvious » - with modifiers',
              brief: 'Code is expressive - or has <em>flair</em>, when it grabs on all opportunities a language offers to communicate what each and every statement does. Modern Javascript includes three keywords you can use to determine the scope and mutability of a variable. These are `var`, `let` and `const`, and can also be reffered to as `modifiers`.', 
              content: 'Give flair to this code by using the most revelant variable modifier.  <pre> </pre> <button>Explain</button>'},
          ]
        }
      }
    });

    //- Footer 
    Vue.component('cwf-footer', {
      template:  `<footer>Crafted with gratitude by @nicolaswormser</footer>`
    });


    //- Post entry
    Vue.component('post-entry',{
      props: ['post'],
      template:  `<article itemscope> 
                    <hgroup>
                      <h2>{{ post.title }}</h2>
                      <details>
                        <summary><a href="https://codewithflair/general" rel="tag">#general</a></summary>
                        <time itemprop="pubTime" datetime=""></time>
                        <time itemprop="modTime" datetime=""></time>
                      </details>
                    </hgroup>
                    <p class="brief">
                      {{ post.brief }}
                    </p>
                    <p>
                      {{ post.content }}
                    </p>
                  </article>`
    });


    // Create vues for each of the main components
    const heading = new Vue({
      el: '#cwf-heading',
    });
    const main = new Vue({
      el: '#cwf-main',
    });
    const footer = new Vue({
      el: '#cwf-footer',
    });

  </script>
</body>
